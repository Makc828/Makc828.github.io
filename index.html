<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุชุฌุฑ Trix ูููุชุจ ูุงูููุชุฌุงุช</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* A simple font for Arabic */
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap');
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f7fafc;
        }
        /* Custom styles for pages and modal */
        .page, .modal-overlay {
            display: none;
        }
        .page.active, .modal-overlay.active {
            display: flex;
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.75rem;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .variant-option {
            cursor: pointer;
            padding: 0.5rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            transition: all 0.2s;
        }
        .variant-option.selected {
            border-color: #3b82f6;
            background-color: #eff6ff;
            font-weight: bold;
            transform: scale(1.05);
        }
        #home-page.active {
             display: block;
        }
        .product-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.08);
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- =========== Welcome Modal =========== -->
    <div id="welcome-modal" class="modal-overlay active">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">ููุงุญุธุฉ ูุงูุฉ</h2>
            <p class="text-lg text-gray-700 mb-6">ุชูุตูู ุงููุชุจ ูุฎุชูู ุนู ุชูุตูู ุงูููุชุฌุงุช ุงูุฃุฎุฑู. ูุฑุฌู ูุฑุงุฌุนุฉ ุชูุงุตูู ุงูุดุญู.</p>
            <button id="close-modal-btn" class="bg-blue-600 text-white py-2 px-8 rounded-lg font-semibold hover:bg-blue-700 transition-all">ููุงูู</button>
        </div>
    </div>
    
    <!-- =========== Variant Selection Modal =========== -->
    <div id="variant-modal" class="modal-overlay">
        <div id="variant-modal-content" class="modal-content"></div>
    </div>

    <!-- =========== Header =========== -->
    <header class="bg-white shadow-md p-4 flex justify-between items-center sticky top-0 z-50">
        <h1 id="logo" class="text-2xl md:text-3xl font-bold text-blue-600 cursor-pointer">Trix Store</h1>
        <div class="flex items-center space-x-2 sm:space-x-4 gap-4">
            <button id="shipping-details-btn" title="ุชูุงุตูู ุงูุดุญู" class="text-gray-600 hover:text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10l2 2h8a1 1 0 001-1z" /><path stroke-linecap="round" stroke-linejoin="round" d="M16 16h2a2 2 0 002-2V6a2 2 0 00-2-2h-1" /></svg></button>
            <button id="cart-button" title="ุณูุฉ ุงูุดุฑุงุก" class="relative text-gray-600 hover:text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg><span id="cart-item-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden">0</span></button>
        </div>
    </header>

    <!-- =========== Main Content =========== -->
    <main class="p-4 md:p-8">
        <div id="home-page" class="page active">
            <!-- Search bar -->
            <div class="w-full flex justify-center mb-8">
                 <input type="text" id="search-bar" placeholder="ุงุจุญุซ ุนู ููุชุฌ ุฃู ูุชุงุจ ุจุงูุงุณู..." class="w-full md:w-2/3 lg:w-1/2 p-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"/>
            </div>
            <!-- Product Grid -->
            <div id="product-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6"></div>
        </div>
        <div id="cart-page" class="page"></div>
        <div id="checkout-page" class="page"></div>
        <div id="shipping-page" class="page">
            <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
                <h2 class="text-3xl font-bold mb-6 border-b pb-4">ุชูุงุตูู ุงูุดุญู ูุงูุชูุตูู</h2>
                <div class="space-y-6">
                    <div><h3 class="text-xl font-bold text-blue-700 mb-2">๐ ุชูุตูู ุงููุชุจ</h3><ul class="list-disc pr-5 space-y-1 text-gray-700"><li>ูุญุงูุธุฉ ุงูุจุตุฑุฉ: <span class="font-bold">3,000 ุฏููุงุฑ ุนุฑุงูู</span></li><li>ุจุงูู ูุญุงูุธุงุช ุงูุนุฑุงู: <span class="font-bold">5,000 ุฏููุงุฑ ุนุฑุงูู</span></li></ul></div>
                    <div class="border-t pt-6"><h3 class="text-xl font-bold text-green-700 mb-2">๐ฆ ุชูุตูู ุงูููุชุฌุงุช ุงูุฃุฎุฑู</h3><ul class="list-disc pr-5 space-y-1 text-gray-700"><li>ูุญุงูุธุฉ ุงููุงุตุฑูุฉ: <span class="font-bold">3,000 ุฏููุงุฑ ุนุฑุงูู</span></li><li>ุจุงูู ูุญุงูุธุงุช ุงูุนุฑุงู: <span class="font-bold">5,000 ุฏููุงุฑ ุนุฑุงูู</span></li></ul></div>
                </div>
            </div>
        </div>
        <div id="thank-you-page" class="page text-center p-12 bg-white rounded-lg shadow-md max-w-2xl mx-auto">
            <h2 class="text-3xl font-bold text-green-600 mb-4">ุดูุฑุงู ูู!</h2>
            <p class="text-gray-700 mb-6">ููุฏ ุชู ุงุณุชูุงู ุทูุจู ุจูุฌุงุญ ูุณูุชูุงุตู ูุนู ูุฑูุจุงู ูุชุฃููุฏู.</p>
        </div>
    </main>

    <!-- =========== JavaScript =========== -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let cart = [];
            
            const products = [
                // Products
                { id: 'prod_1', type: 'product', name: 'ุชูุจูุงูุจ ููุฒูุงุฆู', description: 'ุจุทุงุฑูุฉ 3000mAhุ ุดุญู Type-Cุ ุถูุก ูุงุนูุ ูุถุน ูุบูุงุทูุณู.', price: 15000, imageUrl: 'images/TERAKS1.jpg' },
                { id: 'prod_2', type: 'product', name: 'ุทุงุจุนุฉ ุญุฑุงุฑูุฉ', description: 'ุชุนูู ุจุงูุดุญูุ ุชุทุจุน ุจุฏูู ุญุจุฑุ ุชุฃุชู ูุน ุฑููุฉ ูุฏูุฉ.', price: 20000, imageUrl: 'images/TERAKS2.jpg' },
                { id: 'prod_3', type: 'product', name: 'ุชูุจูุงูุจ', description: 'ูุนูู ุจุงูุดุญูุ 3 ุฏุฑุฌุงุช ุฃููุงูุ ุชุญูู ุจุฒุงููุฉ 360 ุฏุฑุฌุฉ.', price: 7000, imageUrl: 'images/TERAKS3.jpg' },
                { id: 'prod_4', type: 'product', name: 'ูุตุจุงุญ ูููู ุตุบูุฑ', description: 'ุฅุถุงุกุฉ ูุซุงููุฉ ูุฃุฌูุงุก ุฏุงูุฆุฉุ ุฃุจุนุงุฏ 12x12x12 ุณู.', price: 7000, imageUrl: 'images/TERAKS4.jpg' },
                { id: 'prod_5', type: 'product', name: 'ูุตุจุงุญ ููุชุจู 2ร1', description: 'ูููุชุงุจุฉ ูุงููุฑุงุกุฉ ูุน ุงูุญูุงุธ ุนูู ูุถุนูุฉ ุฌููุณ ุตุญูุฉ.', price: 17000, imageUrl: 'images/TERAKS5.jpg' },
                { id: 'prod_6', type: 'product', name: 'ุณุงุนุฉ ุฑูููุฉ ุจุดุงุดุฉ', description: 'ุชุนูู ุจุงูุจุทุงุฑูุฉ ูุงูููุฑุจุงุกุ ูุน ููุจู ูุฏูุฌ.', price: 18000, imageUrl: 'images/TERAKS6.jpg' },
                { id: 'prod_7', type: 'product', name: 'ูุทุงุฑุฉ ุดูุงูุฉ', description: 'ูุชููุฉ ูุนุงููุฉ ุงูุฌูุฏุฉุ ุชุตููู ุฃููู ููุชุนุฏุฏุฉ ุงูุงุณุชุฎุฏุงูุงุช.', price: 5000, imageUrl: 'images/TERAKS7.jpg', options: ["ุฃุจูุถ ุดูุงู", "ุฃุฒุฑู ูุงุชุญ", "ุฃุณูุฏ ุฏุฎุงูู", "ูุฑุฏู ูุงุชุญ"] },
                { id: 'prod_8', type: 'product', name: 'ูุทุงุฑุฉ ุซูุงุซูุฉ', description: 'ุซูุงุซุฉ ุฃุญุฌุงู ูุน ูุตุจุงุช ูููุจุถุ ุชุฃุชู ูุน ุณุชููุฑ ูุฏูุฉ.', price: 12000, imageUrl: 'images/TERAKS8.jpg' },
                { id: 'prod_9', type: 'product', name: 'ุณุชุงูุฏ ูุงุชู ุฃู ุงูุจุงุฏ', description: 'ุฌูุฏุฉ ุนุงููุฉ ุฌุฏุงู.', price: 4000, imageUrl: 'images/TERAKS9.jpg' },
                { id: 'prod_10', type: 'product', name: 'ุตูุตู ุงูุฌููู', description: 'ุญุฌู ูุจูุฑ.', price: 4000, imageUrl: 'images/TERAKS10.jpg' },
                { id: 'prod_11', type: 'product', name: 'ุตูุตู ุงููุฒู', description: 'ุญุฌู ุตุบูุฑ.', price: 4000, imageUrl: 'images/TERAKS11.jpg' },
                { id: 'prod_12', type: 'product', name: 'ุชูุจูุงูุจ ูุฑุงุกุฉ ุตุบูุฑ', description: 'ูุนูู ุจุงูุจุทุงุฑูุฉุ ุนูุฑ ุทูููุ ูุซุงูู ูููุฑุงุกุฉ ูุงูุชููู.', price: 5000, imageUrl: 'images/TERAKS12.jpg' },
                { id: 'prod_13', type: 'product', name: 'ูู ูุฎู', description: 'ุณุชุงููุณ ุณุชููุ ูุญูุธ ุงูุญุฑุงุฑุฉ ูุงูุจุฑูุฏุฉุ ุญุฌู ูุจูุฑ.', price: 12000, imageUrl: 'images/TERAKS13.jpg', options: ["ุฃุจูุถ", "ูุฑุฏู", "ุฃุณูุฏ"] },
                { id: 'prod_14', type: 'product', name: 'ุณูุช ุฃููุงู โุฃููุงููููโ', description: 'ูุชุถูู 10 ุฃููุงู ููููุฉ ุจุชุตููู ูููุฒ.', price: 4000, imageUrl: 'images/TERAKS14.jpg' },
                { id: 'prod_15', type: 'product', name: 'ููู ุฌู ุฃุตูู (ูุทุนุชุงู)', description: 'ุฌูุฏุฉ ุนุงููุฉุ ุญุจุฑ ุณุฑูุน ุงูุฌูุงูุ ูค ุฃุดูุงู ุจุงูุฏุง.', price: 1000, imageUrl: 'images/TERAKS15.jpg' },
                { id: 'prod_16', type: 'product', name: 'ูุญูุธุฉ ุฃููุงู', description: 'ููุงุด ูุงุนู ุจุฌูุฏุฉ ุนุงููุฉุ ุชุตููู ุณุญุจ.', price: 3000, imageUrl: 'images/TERAKS16.jpg' },
                { id: 'prod_17', type: 'product', name: 'ูุฌุณู ูููู 1', description: 'ููุงูุชู ุนุงููุ ุงุฑุชูุงุน 7 ุณู.', price: 7000, imageUrl: 'images/TERAKS17.jpg' },
                { id: 'prod_18', type: 'product', name: 'ูุฌุณู ูููู 2', description: 'ููุงูุชู ุนุงููุ ุงุฑุชูุงุน ุญูุงูู 9 ุณู.', price: 4000, imageUrl: 'images/TERAKS18.jpg' },
                { id: 'prod_19', type: 'product', name: 'ูุฌุณู ุฏุฑุงุบูู ุจูู', description: 'ููุงูุชู ุนุงููุ ุงุฑุชูุงุน 16 ุณู.', price: 7000, imageUrl: 'images/TERAKS19.jpg' },
                { id: 'prod_20', type: 'product', name: 'ุชูุจูุงูุจ ๐', description: 'ูุนูู ุจุงูุดุญูุ 3 ุฏุฑุฌุงุช ุฅุถุงุกุฉุ ุฒุฑ ููุณ.', price: 9000, imageUrl: 'images/TERAKS20.jpg' },
                { id: 'prod_21', type: 'product', name: 'ุฏูุชุฑ ูุงุฑุฏ ููุฑ ๐', description: 'ุบูุงู ุตูุจุ ููุงุตู ุฏุงุฎููุฉุ ูุฑู ูุงุนู.', price: 3500, imageUrl: 'images/TERAKS21.jpg' },
                { id: 'prod_22', type: 'product', name: 'ุฏูุชุฑ A5', description: 'ูุฑู ุฏุงุฎูู ูุงุจู ููุงุณุชุจุฏุงูุ ุฌูุฏุฉ ุนุงููุฉ.', price: 3500, imageUrl: 'images/TERAKS22.jpg' },
                { id: 'prod_23', type: 'product', name: 'ุณุงุนุฉ ุดูู ุฑุงูู ๐ฐ', description: 'ูููู ุญุฏูุฏุ ุฅูุงุฑุฉ ุฏุงุฎููุฉุ ูููู ุชุนููููุง.', price: 10000, imageUrl: 'images/TERAKS23.jpg' },
                { id: 'prod_24', type: 'product', name: 'ูุจุฎุฑุฉ ุดูู ุงูุฃุฑูุจ', description: 'ุชุญุชูู ุนูู ุฅุถุงุกุฉ ุจุนุฏุฉ ุฃููุงูุ ุชุนูู ุนูู ุงูููุฑุจุงุก.', price: 6000, imageUrl: 'images/TERAKS24.jpg' },
                { id: 'prod_25', type: 'product', name: 'ูุจุฎุฑุฉ ุงููุงุฆูุฉ ุงูููุทุฑุฉ โุงูุบููุฉโ', description: 'ุญุฌู ูุจูุฑุ ุฅุถุงุกุฉ ุฏุงุฎููุฉุ ุจุฎุงุฑ ููู ูุน ุนุทุฑ ูุฏูุฉ.', price: 20000, imageUrl: 'images/TERAKS25.jpg' },
                { id: 'prod_26', type: 'product', name: 'ุชูุจูุงูุจ ุณุงุนุฉ ุฑูููุฉ โ๏ธ', description: 'ุชุนูู ุจุงูุดุญูุ ุฅุถุงุกุฉ ุจุชุตููู ุงูุฑูุงู ุงููุชุญุฑูุฉุ ุชุจุฏูู ุจุงูุฃููุงู ุจุงูููุณ.', price: 10000, imageUrl: 'images/TERAKS26.jpg' },
                { id: 'prod_27', type: 'product', name: 'ูุงุนุฏุงุช ุงูุฃููุงุจ ๐ฅค', description: 'ุฌูุฏุฉ ุนุงููุฉ ููุงุณุจุฉ ูููุชุจูุ ูุชููุฑุฉ ุจุนุฏุฉ ุฃุดูุงู.', price: 500, imageUrl: 'images/TERAKS27.jpg' },
                { id: 'prod_28', type: 'product', name: 'ููุฒ ุณูุฑ/ุฏุฑุงุณุฉ', description: 'ุฎุงูุฉ ุฃูููููููุ ุชุญูู ุจุงูุงุฑุชูุงุน ูุงูุงูุญูุงุกุ ูุงุจูุฉ ููุทู.', price: 16000, imageUrl: 'images/TERAKS28.jpg' },
                { id: 'prod_29', type: 'product', name: 'ุญุงูุธุฉ ูุฑู', description: 'ูุญูุธ ูุชูุธูู ุงูุฃูุฑุงู ุงููููุฉ.', price: 1500, imageUrl: 'images/TERAKS29.jpg' },
                { id: 'prod_30', type: 'product', name: 'ุญููุจุฉ ูุฏุฑุณูุฉ', description: 'ูููุฉ ุฌุฏุงูุ ุชุญุชูู ุนูู ูุญูุธุฉ ุฏุงุฎููุฉ.', price: 15000, imageUrl: 'images/TERAKS30.jpg', options: ["ูุฑุฏู", "ุฃุฒุฑู"] },
                { id: 'prod_31', type: 'product', name: 'ููุจ ุซุนูุจุฉ ุงููุงุฆูุฉ', description: 'ูุตููุน ูู ุณูุฑุงูููุ ุตูุงุนุฉ ูุฏููุฉ.', price: 5500, imageUrl: 'images/TERAKS31.jpg' },
                { id: 'prod_32', type: 'product', name: 'ุงููุงู ุฌุงู ูููุช (ูุทุนุชุงู)', description: 'ูุฑูุญ ูููุฏุ ูุน ูุณุงุญุฉ ููุณุญ ุงูุญุจุฑ ุงูุฌุงู.', price: 2500, imageUrl: 'images/TERAKS32.jpg' },
                { id: 'prod_33', type: 'product', name: 'ุณุงุนุฉ ุงูุงูููุฉ', description: 'ูุงุฑูุฉ ุฏููุ ุฅุถุงุกุฉ ููููุฉุ ุฌุฑุณ ูุฒุฏูุฌ ูููุจู ููู.', price: 8000, imageUrl: 'images/TERAKS33.jpg' },
                { id: 'prod_34', type: 'product', name: 'ุณูุช ูุตุจุงุช', description: 'ูุญุชูู ุนูู 4 ูุตุจุงุช ุฒุฌุงุฌูุฉ ูุน ุฃุฏุงุฉ ุชูุธูู.', price: 2000, imageUrl: 'images/TERAKS34.jpg' },
                { id: 'prod_35', type: 'product', name: 'ููููุฉ ุงููุงู', description: 'ุดูู ุฃูููุ ุญุฌู ูุจูุฑ.', price: 2500, imageUrl: 'images/TERAKS35.jpg', options: ["ุฃุจูุถ", "ูุฑุฏู", "ุฃุญูุฑ"] },
                { id: 'prod_36', type: 'product', name: 'ููุจ ุงููู ููุฏูู ุฌุฏูุฏ', description: 'ุฒุฌุงุฌ ููุงูุชู ุนุงูู.', price: 3500, imageUrl: 'images/TERAKS36.jpg' },
                { id: 'prod_37', type: 'product', name: 'ููุธุฑุฉ ุงูุฃุญูุงู', description: 'ูุฑุงูุง ุถูุฆูุฉ 3 ุฏุฑุฌุงุชุ ูุน ููุงู ููุงูุณุณูุงุฑุงุช.', price: 12000, imageUrl: 'images/TERAKS37.jpg' },
                { id: 'prod_38', type: 'product', name: 'ูุงุจุณุฉ ูุน ููุจุณ ุญุฌู ูุจูุฑ', description: 'ูููุฉ ูููุงูุชู ููุชุงุฒุ ุฃููุงู ุดูุงูุฉ.', price: 3000, imageUrl: 'images/TERAKS38.jpg' },
                { id: 'prod_39', type: 'product', name: 'ุฏูุชุฑ ุตุบูุฑ ููุงุญุธุงุช ...ูุถุงุก', description: 'ุฃุดูุงู ุฌูููุฉ ูุฌูุฏุฉ ุนุงููุฉ.', price: 2500, imageUrl: 'images/TERAKS39.jpg' },
                { id: 'prod_40', type: 'product', name: 'ูุณุทุฑุฉ ๐ ๐ฆ', description: 'ููุงูุชู ููุชุงุฒ ูุดูู ูุฑุชุจ.', price: 1000, imageUrl: 'images/TERAKS40.jpg' },
                { id: 'prod_41', type: 'product', name: 'ูุฑู ููุงุญุธุงุช ูุงุตู', description: '70 ูุฑูุฉุ ุฃุฑุจุนุฉ ุฃุดูุงู ูุทููุฉุ ูุน ููู.', price: 1500, imageUrl: 'images/TERAKS41.jpg' },
                
                // Books - starting from TERAKS42
                { id: 'book_1', type: 'book', name: 'ูุชุงุจ ุงูุฃููุฑ (ูุงุฑุฏููุฑ)', description: 'ูู ุฃุดูุฑ ูุชุจ ุงูููุฑ ุงูุณูุงุณู.', price: 9000, imageUrl: 'images/TERAKS42.jpg' },
                { id: 'book_2', type: 'book', name: 'ุฑูุงูุฉ ุงูููุงูู ุงูุจูุถุงุก (ูุงุฑุฏููุฑ)', description: 'ุฑูุงูุฉ ุนุงุทููุฉ ูููุงุชุจ ุงูุฑูุณู ุฏูุณุชูููุณูู.', price: 9000, imageUrl: 'images/TERAKS43.jpg' },
                { id: 'book_3', type: 'book', name: 'ุฑูุงูุฉ ูููุฉ ุญุงุฑุซ', description: 'ุฑูุงูุฉ ูู ุงูุฃุฏุจ ุงููุนุงุตุฑ.', price: 12000, imageUrl: 'images/TERAKS44.jpg' },
                { id: 'book_4', type: 'book', name: 'ุณูุณูุฉ ุตุฎุจ ุงูุฎุณูู (ูุงููุฉ)', description: 'ุณูุณูุฉ ุฑูุงุฆูุฉ ูุดููุฉ.', price: 16000, imageUrl: 'images/TERAKS45.jpg' },
                { id: 'book_5', type: 'book', name: 'ูุชุงุจ ูุฃูู ุงููู (ุฌุฒุฃูู)', description: 'ุฑุญูุฉ ุฅูู ุงูุณูุงุก ุงูุณุงุจุนุฉ.', price: 8000, imageUrl: 'images/TERAKS46.jpg' },
                { id: 'book_6', type: 'book', name: 'ุณูุณูุฉ ุฃุจุงุจูู (4 ุฃุฌุฒุงุก)', description: 'ุณูุณูุฉ ูุงูุชุงุฒูุง ููุญููุฉ.', price: 20000, imageUrl: 'images/TERAKS47.jpg' },
                { id: 'book_7', type: 'book', name: 'ุฑูุงูุฉ ุงุฒุฑ', description: 'ุฑูุงูุฉ ุงุฌุชูุงุนูุฉ.', price: 7000, imageUrl: 'images/TERAKS48.jpg' },
                { id: 'book_8', type: 'book', name: 'ุณูุณูุฉ ุงูุบุฑุจุงู ูุงููููู (ุฌุฒุขู)', description: 'ุณูุณูุฉ ูู ุฃุฏุจ ุงููุงูุชุงุฒูุง.', price: 15000, imageUrl: 'images/TERAKS49.jpg' },
                { id: 'book_9', type: 'book', name: 'ุณูุณูุฉ ุงูููุชู ุงูุณุงุฆุฑูู (ุฌุฒุขู)', description: 'ุณูุณูุฉ ูุตุต ูุตูุฑุฉ ุนู ููุงูุฉ ุงูุนุงูู.', price: 14000, imageUrl: 'images/TERAKS50.jpg' },
                { id: 'book_10', type: 'book', name: 'ุตูุช ุงูุญููุงู', description: 'ุฑูุงูุฉ ุฑุนุจ ููุณู ุดููุฑุฉ.', price: 9000, imageUrl: 'images/TERAKS51.jpg' },
                { id: 'book_11', type: 'book', name: 'ุงูููุฒู ูุจู ุงูุธูุงู', description: 'ุฑูุงูุฉ ุบููุถ ูุชุดููู.', price: 9000, imageUrl: 'images/TERAKS52.jpg' },
                { id: 'book_12', type: 'book', name: 'ููุฏู ุงูููุจุฑุฉ', description: 'ุฑูุงูุฉ ูู ุฃุฏุจ ุงูุฑุนุจ.', price: 9000, imageUrl: 'images/TERAKS53.jpg' },
                { id: 'book_13', type: 'book', name: 'ููุชู ุทุงูุจุฉ ูุฏุฑุณุฉ', description: 'ุฑูุงูุฉ ุจูููุณูุฉ ูุซูุฑุฉ.', price: 11000, imageUrl: 'images/TERAKS54.jpg' },
                { id: 'book_14', type: 'book', name: 'ุงูุดูุทุงู ูุงูููุงู ุงููุธููุฉ', description: 'ุฑูุงูุฉ ุบููุถ ุชุงุฑูุฎูุฉ.', price: 12000, imageUrl: 'images/TERAKS55.jpg' },
                { id: 'book_15', type: 'book', name: 'ูุชุงุจ ุงูุฌุญูู', description: 'ุฑูุงูุฉ ูููุงุชุจ ุฏุงู ุจุฑุงูู.', price: 11000, imageUrl: 'images/TERAKS56.jpg' },
                { id: 'book_16', type: 'book', name: 'ูุชุงุจ ุงูุบุฑูุจ', description: 'ุฑูุงูุฉ ููุณููุฉ ูุฃูุจูุฑ ูุงูู.', price: 7500, imageUrl: 'images/TERAKS57.jpg' },
                { id: 'book_17', type: 'book', name: 'ุณูุณูุฉ โูุจู ุฃู ุชุจุฑุฏ ุงููููุฉโ (4 ุฃุฌุฒุงุก)', description: 'ุณูุณูุฉ ุฑูุงูุงุช ูุงุจุงููุฉ ุณุงุญุฑุฉ.', price: 18000, imageUrl: 'images/TERAKS58.jpg' },
                { id: 'book_18', type: 'book', name: 'ุงููุฑุขู ุงููุฑูู', description: 'ูุชุงุจ ุงููู ุงูููุฒู.', price: 12000, imageUrl: 'images/TERAKS59.jpg' },
                { id: 'book_19', type: 'book', name: 'ูุชุงุจ ูุตุต ุงูุฃุฆูุฉ', description: 'ูุตุต ุนู ุญูุงุฉ ุงูุฃุฆูุฉ ุงูุงุซูู ุนุดุฑ.', price: 12000, imageUrl: 'images/TERAKS60.jpg' },
                { id: 'book_20', type: 'book', name: 'ูุชุงุจ ุฌุณูู ูุชุฐูุฑ ูู ุดูุก', description: 'ุนู ุงูุตุฏูุงุช ุงูููุณูุฉ ูุชุฃุซูุฑูุง.', price: 12000, imageUrl: 'images/TERAKS61.jpg' },
                { id: 'book_21', type: 'book', name: 'ูุชุงุจ ุงููุฌุงูุณ ุงูุณุจุนุฉ', description: 'ูุชุงุจ ูู ุงูุชุตูู.', price: 7000, imageUrl: 'images/TERAKS62.jpg' },
                { id: 'book_22', type: 'book', name: 'ุฏุน ุงูููู ูุงุจุฏุฃ ุงูุญูุงุฉ', description: 'ูู ุฃุดูุฑ ูุชุจ ุฏูู ูุงุฑููุฌู.', price: 7000, imageUrl: 'images/TERAKS63.jpg' },
                { id: 'book_23', type: 'book', name: 'ููู ุชุคุซุฑ ุนูู ุงูุขุฎุฑูู (ุฃุตูู)', description: 'ุงููุณุฎุฉ ุงูุฃุตููุฉ ูู ูุชุงุจ ุฏูู ูุงุฑููุฌู.', price: 6000, imageUrl: 'images/TERAKS64.jpg' },
                { id: 'book_24', type: 'book', name: 'ููู ุชุคุซุฑ ุนูู ุงูุขุฎุฑูู (ุนุงุฏู)', description: 'ุงููุณุฎุฉ ุงูุนุงุฏูุฉ ูู ูุชุงุจ ุฏูู ูุงุฑููุฌู.', price: 5500, imageUrl: 'images/TERAKS65.jpg' },
                { id: 'book_25', type: 'book', name: 'ุธูุงู ูู ุฑุฃุณู', description: 'ูุฌููุนุฉ ูุตุตูุฉ.', price: 6000, imageUrl: 'images/TERAKS66.jpg' },
                { id: 'book_26', type: 'book', name: 'ุงููุฎุงุจุฑุงุช ุงูุนุฑุงููุฉ', description: 'ูุชุงุจ ุนู ุชุงุฑูุฎ ุงููุฎุงุจุฑุงุช ุงูุนุฑุงููุฉ.', price: 9000, imageUrl: 'images/TERAKS67.jpg' },
                { id: 'book_27', type: 'book', name: 'ุฏููุบู ูู ุงูุฏุงุฎู', description: 'ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ ููุงุนุจ ุฏููุบู ูุงุฑุงุฏููุง.', price: 7000, imageUrl: 'images/TERAKS68.jpg' },
                { id: 'book_28', type: 'book', name: 'ุฃูู ูููุฉ ููููุฉ (ุณูุณูุฉ ูุงููุฉ)', description: 'ูู ุฃุดูุฑ ุงูุฃุนูุงู ุงูุฃุฏุจูุฉ ุงูุนุงูููุฉ.', price: 40000, imageUrl: 'images/TERAKS69.jpg' },
                { id: 'book_29', type: 'book', name: 'ุฃูุงุนูุจ ููุนุจูุง ุงูุจุดุฑ', description: 'ูุชุงุจ ูู ุงูุชุญููู ุงูููุณู.', price: 6000, imageUrl: 'images/TERAKS70.jpg' },
                { id: 'book_30', type: 'book', name: 'ุงููุฎ ุงูุฎุงุฑู', description: 'ูุชุนุฒูุฒ ูุฏุฑุงุช ุงูุฏูุงุบ.', price: 7000, imageUrl: 'images/TERAKS71.jpg' },
                { id: 'book_31', type: 'book', name: 'ุงูุฃุณูุงุก ุงูููููุฏุฉ', description: 'ุฑูุงูุฉ ูุดููุฉ.', price: 22000, imageUrl: 'images/TERAKS72.jpg' },
                { id: 'book_32', type: 'book', name: 'ุจูุช ุงูุฃุญูุงู', description: 'ุฑูุงูุฉ ุนุงูููุฉ.', price: 16000, imageUrl: 'images/TERAKS73.jpg' },
                { id: 'book_33', type: 'book', name: 'ุงูุจุคุณุงุก', description: 'ุฑูุงูุฉ ูููุชูุฑ ููุบู ุงูุฎุงูุฏุฉ.', price: 61000, imageUrl: 'images/TERAKS74.jpg' },
                { id: 'book_34', type: 'book', name: 'ูุนุจุฉ ุงูุนุฑูุด', description: 'ุงูุฌุฒุก ุงูุฃูู ูู ุฃุบููุฉ ุงูุฌููุฏ ูุงููุงุฑ.', price: 38000, imageUrl: 'images/TERAKS75.jpg' },
                { id: 'book_35', type: 'book', name: 'ุณูุณูุฉ ุนุงูู ุงููุฑุต', description: 'ุณูุณูุฉ ูุงูุชุงุฒูุง ุณุงุฎุฑุฉ.', price: 26000, imageUrl: 'images/TERAKS76.jpg' },
                { id: 'book_36', type: 'book', name: 'ุฌูููุฑูุฉ ุฃููุงุทูู', description: 'ูู ุฃูู ุฃุนูุงู ุงูููุณูุฉ ุงูุบุฑุจูุฉ.', price: 19000, imageUrl: 'images/TERAKS77.jpg' },
                { id: 'book_37', type: 'book', name: 'ุงูู ุงูููุฑ', description: 'ุฑูุงูุฉ ุชุงุฑูุฎูุฉ.', price: 16000, imageUrl: 'images/TERAKS78.jpg' }
            ];

            const DOM = {
                productGrid: document.getElementById('product-grid'), cartPage: document.getElementById('cart-page'), checkoutPage: document.getElementById('checkout-page'), shippingPage: document.getElementById('shipping-page'), homePage: document.getElementById('home-page'), thankYouPage: document.getElementById('thank-you-page'), cartItemCount: document.getElementById('cart-item-count'), welcomeModal: document.getElementById('welcome-modal'), variantModal: document.getElementById('variant-modal'), variantModalContent: document.getElementById('variant-modal-content'), closeModalBtn: document.getElementById('close-modal-btn'), logo: document.getElementById('logo'), cartButton: document.getElementById('cart-button'), shippingDetailsBtn: document.getElementById('shipping-details-btn'), searchBar: document.getElementById('search-bar'),
            };

            const formatCurrency = (amount) => new Intl.NumberFormat('ar-IQ', { style: 'currency', currency: 'IQD', minimumFractionDigits: 0 }).format(amount);

            const openVariantModal = (productId) => {
                const product = products.find(p => p.id === productId);
                if (!product || !product.options) return;
                let selectedOption = product.options[0]; 
                DOM.variantModalContent.innerHTML = `<h2 class="text-2xl font-bold mb-4">ุงุฎุชุฑ ูู: ${product.name}</h2><div id="variant-options-container" class="flex flex-wrap justify-center gap-3 my-6">${product.options.map((opt, i) => `<div class="variant-option ${i === 0 ? 'selected' : ''}" data-option="${opt}">${opt}</div>`).join('')}</div><div class="flex justify-center gap-4"><button id="confirm-variant-btn" class="bg-blue-600 text-white py-2 px-8 rounded-lg font-semibold hover:bg-blue-700">ููุงูู</button><button id="cancel-variant-btn" class="bg-gray-300 text-gray-800 py-2 px-6 rounded-lg hover:bg-gray-400">ุฅูุบุงุก</button></div>`;
                const optionsContainer = DOM.variantModalContent.querySelector('#variant-options-container');
                optionsContainer.addEventListener('click', (e) => {
                    if (e.target.classList.contains('variant-option')) {
                        optionsContainer.querySelectorAll('.variant-option').forEach(el => el.classList.remove('selected'));
                        e.target.classList.add('selected');
                        selectedOption = e.target.dataset.option;
                    }
                });
                DOM.variantModal.querySelector('#confirm-variant-btn').onclick = () => { addToCart(productId, selectedOption); DOM.variantModal.classList.remove('active'); };
                DOM.variantModal.querySelector('#cancel-variant-btn').onclick = () => DOM.variantModal.classList.remove('active');
                DOM.variantModal.classList.add('active');
            };

            const handleAddToCartClick = (productId) => {
                const product = products.find(p => p.id === productId);
                if (product.options && product.options.length > 0) {
                    openVariantModal(productId);
                } else {
                    addToCart(productId, null);
                }
            };
            
             const addToCart = (productId, selectedVariant) => {
                const product = products.find(p => p.id === productId);
                if (!product) return;
                const cartItemId = selectedVariant ? `${product.id}-${selectedVariant}` : product.id;
                const itemName = selectedVariant ? `${product.name} - ${selectedVariant}` : product.name;
                const existingItem = cart.find(item => item.cartId === cartItemId);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ ...product, quantity: 1, cartId: cartItemId, name: itemName });
                }
                
                const alertBox = document.createElement('div');
                alertBox.textContent = `โ ุชูุช ุฅุถุงูุฉ "${itemName}" ุฅูู ุงูุณูุฉ.`;
                alertBox.style.cssText = 'position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background-color: #28a745; color: white; padding: 1rem 2rem; border-radius: 8px; z-index: 2000; box-shadow: 0 4px 15px rgba(0,0,0,0.2); font-size: 1rem;';
                document.body.appendChild(alertBox);
                setTimeout(() => {
                    alertBox.remove();
                }, 2500);

                updateCartUI();
            };

            const updateQuantity = (cartId, newQuantity) => {
                const itemInCart = cart.find(item => item.cartId === cartId);
                if (!itemInCart) return;
                if (newQuantity < 1) {
                    removeFromCart(cartId);
                } else {
                    itemInCart.quantity = newQuantity;
                }
                renderCartPage();
            };
            
            const removeFromCart = (cartId) => {
                cart = cart.filter(item => item.cartId !== cartId);
                renderCartPage();
            };

            const updateCartUI = () => {
                const count = cart.reduce((sum, item) => sum + item.quantity, 0);
                DOM.cartItemCount.classList.toggle('hidden', count === 0);
                if (count > 0) DOM.cartItemCount.textContent = count;
            };
            
            const renderProducts = (productsToRender) => {
                DOM.productGrid.innerHTML = '';
                if(productsToRender.length === 0){
                    DOM.productGrid.innerHTML = `<p class="col-span-full text-center text-gray-500 mt-8">ูุง ุชูุฌุฏ ูุชุงุฆุฌ ูุทุงุจูุฉ ูุจุญุซู.</p>`;
                    return;
                }
                productsToRender.forEach(product => {
                    const productCard = `<div class="bg-white rounded-lg shadow-md overflow-hidden flex flex-col text-center product-card group"><div class="p-2"><img src="${product.imageUrl}" alt="${product.name}" class="w-[100px] h-[150px] object-cover mx-auto rounded-md"></div><div class="p-4 flex flex-col flex-grow"><h3 class="text-md font-bold text-gray-800">${product.name}</h3><p class="text-sm text-gray-500 my-2 flex-grow">${product.description}</p><p class="text-lg font-bold text-blue-600 my-2">${formatCurrency(product.price)}</p><button data-product-id="${product.id}" class="add-to-cart-btn mt-auto w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-transform duration-200 group-hover:scale-105">ุฃุถู ุฅูู ุงูุณูุฉ</button></div></div>`;
                    DOM.productGrid.innerHTML += productCard;
                });
                document.querySelectorAll('.add-to-cart-btn').forEach(button => button.addEventListener('click', (e) => handleAddToCartClick(e.target.dataset.productId)));
            };

            const renderCartPage = () => {
                updateCartUI();
                if (cart.length === 0) {
                    DOM.cartPage.innerHTML = `<div class="text-center p-12 bg-white rounded-lg shadow-md max-w-2xl mx-auto"><h2 class="text-2xl font-bold mb-4">ุณูุฉ ุงูุดุฑุงุก ูุงุฑุบุฉ</h2><button id="start-shopping-btn" class="bg-blue-600 text-white py-2 px-6 rounded-lg font-semibold hover:bg-blue-700">ุงุจุฏุฃ ุงูุชุณูู</button></div>`;
                    document.getElementById('start-shopping-btn').addEventListener('click', () => navigate('home'));
                    return;
                }
                const cartItemsHTML = cart.map(item => `
                    <div class="grid grid-cols-12 gap-2 items-center border-b py-4">
                        <div class="col-span-2"><img src="${item.imageUrl}" alt="${item.name}" class="w-16 h-24 rounded-lg object-cover shadow"/></div>
                        <div class="col-span-4"><h3 class="font-semibold text-md sm:text-lg">${item.name}</h3><p class="text-gray-500 text-sm">${formatCurrency(item.price)}</p></div>
                        <div class="col-span-3 flex items-center justify-center gap-2">
                            <button data-cart-id="${item.cartId}" data-quantity="${item.quantity + 1}" class="quantity-btn p-2 rounded-full bg-gray-200 hover:bg-gray-300 transition text-gray-800 font-bold">+</button>
                            <span class="font-bold text-xl w-8 text-center">${item.quantity}</span>
                            <button data-cart-id="${item.cartId}" data-quantity="${item.quantity - 1}" class="quantity-btn p-2 rounded-full bg-gray-200 hover:bg-gray-300 transition text-gray-800 font-bold">-</button>
                        </div>
                        <div class="col-span-3 flex flex-col items-end">
                            <p class="font-bold text-lg">${formatCurrency(item.price * item.quantity)}</p>
                            <button data-cart-id="${item.cartId}" class="remove-btn text-red-500 hover:text-red-700 transition text-sm flex items-center gap-1 mt-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>ุฅุฒุงูุฉ</button>
                        </div>
                    </div>`).join('');
                const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
                DOM.cartPage.innerHTML = `<div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg"><h2 class="text-3xl font-bold mb-6 border-b pb-4">ุณูุฉ ุงูุดุฑุงุก</h2><div class="space-y-2">${cartItemsHTML}</div><div class="mt-8 pt-4 border-t text-left"><p class="text-xl">ุงููุฌููุน: <span class="font-bold">${formatCurrency(subtotal)}</span></p><p class="text-sm text-gray-500">ุณูุชู ุฅุถุงูุฉ ุชูุงููู ุงูุดุญู ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ.</p><button id="checkout-btn" class="mt-4 w-full sm:w-auto bg-green-600 text-white py-3 px-8 rounded-lg font-bold hover:bg-green-700 transition">ุฅุชูุงู ุงูุดุฑุงุก</button></div></div>`;
                document.querySelectorAll('.quantity-btn').forEach(b => b.addEventListener('click', e => updateQuantity(e.currentTarget.dataset.cartId, parseInt(e.currentTarget.dataset.quantity))));
                document.querySelectorAll('.remove-btn').forEach(b => b.addEventListener('click', e => removeFromCart(e.currentTarget.dataset.cartId)));
                document.getElementById('checkout-btn').addEventListener('click', () => navigate('checkout'));
            };
            
            const calculateShippingCost = (province) => {
                const hasBooks = cart.some(item => item.type === 'book');
                const hasProducts = cart.some(item => item.type === 'product');
                let bookCost = 0, productCost = 0;
                if (hasBooks) bookCost = (province === 'ุงูุจุตุฑุฉ') ? 3000 : 5000;
                if (hasProducts) productCost = (province === 'ุงููุงุตุฑูุฉ') ? 3000 : 5000;
                return Math.max(bookCost, productCost);
            };
            
            const renderCheckoutPage = () => {
                const provinces = ["ุจุบุฏุงุฏ", "ุงูุจุตุฑุฉ", "ุงููุงุตุฑูุฉ", "ููููู", "ุฃุฑุจูู", "ุงูุณูููุงููุฉ", "ุฏููู", "ูุฑููู", "ุตูุงุญ ุงูุฏูู", "ุฏูุงูู", "ุงูุฃูุจุงุฑ", "ุจุงุจู", "ูุฑุจูุงุก", "ุงููุฌู", "ุงููุงุฏุณูุฉ", "ุงููุซูู", "ูุงุณุท", "ููุณุงู"];
                const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
                let shippingCost = calculateShippingCost(provinces[0]);
                let total = subtotal + shippingCost;
                
                // =========================================================
                // == ุชู ูุถุน ุฑุงุจุท Formspree ุงูุฎุงุต ุจู ููุง ุจูุฌุงุญ!          ==
                // =========================================================
                DOM.checkoutPage.innerHTML = `<div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-lg"><h2 class="text-3xl font-bold mb-6">ุฅููุงู ุงูุทูุจ</h2><form id="checkout-form" action="https://formspree.io/f/mygrqpkg" method="POST"><div class="space-y-4"><select id="province-select" name="ุงููุญุงูุธุฉ" class="w-full p-3 border rounded-md" required>${provinces.map(p => `<option value="${p}">${p}</option>`).join('')}</select><input type="text" name="ุงูููุทูุฉ" placeholder="ุงูููุทูุฉ / ุงูุญู" class="w-full p-3 border rounded-md" required /><input type="text" name="ุฃูุฑุจ_ููุทุฉ_ุฏุงูุฉ" placeholder="ุฃูุฑุจ ููุทุฉ ุฏุงูุฉ" class="w-full p-3 border rounded-md" required /><input type="tel" name="ุฑูู_ุงููุงุชู" placeholder="ุฑูู ุงููุงุชู" class="w-full p-3 border rounded-md" required /><textarea name="ูุนูููุงุช_ุฅุถุงููุฉ" placeholder="ูุนูููุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑู)" class="w-full p-3 border rounded-md" rows="3"></textarea></div><div class="mt-6 border-t pt-4 space-y-2"><p class="flex justify-between"><span>ูุฌููุน ุงูููุชุฌุงุช:</span> <span class="font-semibold">${formatCurrency(subtotal)}</span></p><p class="flex justify-between"><span>ุชูููุฉ ุงูุดุญู:</span> <span id="shipping-cost" class="font-semibold">${formatCurrency(shippingCost)}</span></p><p class="flex justify-between text-xl font-bold"><span>ุงูุฅุฌูุงูู ุงูููุงุฆู:</span> <span id="total-cost">${formatCurrency(total)}</span></p></div><input type="hidden" name="ููุฎุต_ุงูุทูุจ" id="order-summary-hidden"><input type="hidden" name="ุงูุชูููุฉ_ุงูููุงุฆูุฉ" id="total-cost-hidden"><button type="submit" class="mt-6 w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700">ุชุฃููุฏ ุงูุทูุจ</button></form></div>`;
                
                const provinceSelect = document.getElementById('province-select');
                provinceSelect.addEventListener('change', (e) => {
                    const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
                    const shippingCost = calculateShippingCost(e.target.value);
                    document.getElementById('shipping-cost').textContent = formatCurrency(shippingCost);
                    document.getElementById('total-cost').textContent = formatCurrency(subtotal + shippingCost);
                });
                document.getElementById('checkout-form').addEventListener('submit', function(e) {
                    e.preventDefault(); 
                    document.getElementById('order-summary-hidden').value = cart.map(item => `${item.name} (x${item.quantity})`).join(', ');
                    const finalShipping = calculateShippingCost(document.getElementById('province-select').value);
                    const finalSubtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
                    document.getElementById('total-cost-hidden').value = formatCurrency(finalSubtotal + finalShipping);
                    fetch(this.action, { method: 'POST', body: new FormData(this), headers: { 'Accept': 'application/json' }})
                    .then(res => {
                        if (res.ok) {
                            cart = [];
                            navigate('thank-you');
                        } else {
                            // Handle formspree error
                            alert("ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅุฑุณุงู ุงูุทูุจ. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู.");
                        }
                    })
                    .catch(() => alert("ุญุฏุซ ุฎุทุฃ ูู ุงูุดุจูุฉ. ูุฑุฌู ุงูุชุญูู ูู ุงุชุตุงูู ุจุงูุฅูุชุฑูุช."));
                });
            };
            
            const navigate = (page) => {
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                const pageMap = { home: DOM.homePage, cart: DOM.cartPage, checkout: DOM.checkoutPage, shipping: DOM.shippingPage, 'thank-you': DOM.thankYouPage };
                if (pageMap[page]) {
                    window.scrollTo(0, 0);
                    if (page === 'cart') renderCartPage();
                    if (page === 'checkout') renderCheckoutPage();
                    pageMap[page].classList.add('active');
                }
            };
            
            DOM.closeModalBtn.addEventListener('click', () => DOM.welcomeModal.classList.remove('active'));
            DOM.logo.addEventListener('click', () => navigate('home'));
            DOM.cartButton.addEventListener('click', () => navigate('cart'));
            DOM.shippingDetailsBtn.addEventListener('click', () => navigate('shipping'));
            DOM.searchBar.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase().trim();
                renderProducts(products.filter(p => p.name.toLowerCase().includes(searchTerm)));
            });
            
            const initializeApp = () => {
                renderProducts(products);
                updateCartUI();
            };

            initializeApp();
        });
    </script>
</body>
</html>
